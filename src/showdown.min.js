var Showdown={extensions:{}},forEach=Showdown.forEach=function(h,l){if("function"===typeof h.forEach)h.forEach(l);else{var k,r=h.length;for(k=0;k<r;k++)l(h[k],k,h)}},stdExtName=function(h){return h.replace(/[_-]||\s/g,"").toLowerCase()};
Showdown.converter=function(h){h=h||{};var l,k,r,t=0,C=[],u=[{type:"lang",regex:"&gt;",replace:function(a){return">"}},{type:"lang",regex:"&lt;",replace:function(a){return"<"}},{type:"lang",regex:/^(https?|ftpe?s?):\\\\(\w+\.)+[a-z]+\/?([^'">\s]+)*$/g,replace:function(a){return a.replace(/\\\\/,"//")}}];if("undefined"!==typeof module&&"undefined"!==typeof exports&&"undefind"!==typeof require){var s=require("fs");s&&(s=s.readdirSync((__dirname||".")+"/extensions").filter(function(a){return~a.indexOf(".js")}).map(function(a){return a.replace(/\.js$/,
"")}),Showdown.forEach(s,function(a){var d=stdExtName(a);Showdown.extensions[d]=require("./extensions/"+a)}))}this.makeBBCode=function(a){l={};k=[];r=[];a=a.replace(/~/g,"~T");a=a.replace(/\$/g,"~D");a=a.replace(/\r\n/g,"\n");a=a.replace(/\r/g,"\n");a="\n\n"+a+"\n\n";a=v(a);a=a.replace(/^[ \t]+$/mg,"");Showdown.forEach(C,function(d){a=D(d,a)});a=K(a);a=L(a);a=E(a);a=M(a);a=w(a);a=F(a);a=a.replace(/~D/g,"$$");a=a.replace(/~T/g,"~");Showdown.forEach(u,function(d){a=D(d,a)});return a};if(h&&h.extensions){var N=
this;Showdown.forEach(h.extensions,function(a){"string"===typeof a&&(a=Showdown.extensions[stdExtName(a)]);if("function"===typeof a)Showdown.forEach(a(N),function(a){a.type?"language"===a.type||"lang"===a.type?C.push(a):"output"!==a.type&&"html"!==a.type||u.push(a):u.push(a)});else throw"Extension '"+a+"' could not be loaded.  It was either not found or is not a valid extension.";})}var D=function(a,d){if(a.regex){try{var b=new RegExp(a.regex,"g")}catch(c){b=a.regex}return d.replace(b,a.replace)}if(a.filter)return a.filter(d)},
M=function(a){a=(a+"~0").replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|(?=~0))/gm,function(a,b,c,e,f){b=b.toLowerCase();l[b]=G(c);if(e)return e+f;f&&f.replace(/"/g,"&quot;");return""});return a=a.replace(/~0/,"")},E=function(a){a=a.replace(/\n/g,"\n\n");a=a.replace(/(\[(math|code)\b[^\r]*?\[\/\2\])/g,O);return a=a.replace(/\n\n/g,"\n")},O=function(a,d){var b;b=d.replace(/\n\n/g,"\n");b=b.replace(/^\n/,"");b=b.replace(/\n+$/g,"");return b="\n\n~K"+
(k.push(b)-1)+"K\n\n"},L=function(a){return a=a.replace(/(\[(m|img)\b[^\r]*?\[\/\2\])/g,P)},P=function(a,d){var b;b=d.replace(/^\n+|\n+$/g,"");return b="~S"+(r.push(b)-1)+"S"},w=function(a){a=Q(a);var d=m("[hr /]");a=a.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,d);a=a.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,d);a=a.replace(/^[ ]{0,2}([ ]?\_[ ]?){3,}[ \t]*$/gm,d);a=H(a);a=R(a);a=S(a);a=E(a);a=a.replace(/^\n+/g,"");a=a.replace(/\n+$/g,"");var b=a.split(/\n{2,}/g);a=[];for(var d=b.length,c=0;c<
d;c++){var e=b[c];0<=e.search(/~K(\d+)K/g)?a.push(e):0<=e.search(/\S/)&&(e=p(e),e=e.replace(/^([ \t]*)/g,""),a.push(e))}d=a.length;for(c=0;c<d;c++){for(;0<=a[c].search(/~K(\d+)K/);)b=k[RegExp.$1],b=b.replace(/\$/g,"$$$$"),a[c]=a[c].replace(/~K\d+K/,b);for(;0<=a[c].search(/~S(\d+)S/);)a[c]=a[c].replace(/~S\d+S/,r[RegExp.$1])}console.log("[_FormParagraphs] grafsOut:",a);return a=a.join("\n")},p=function(a){a=T(a);a=U(a);a=V(a);a=a.replace(/\\(\\)/g,x);a=a.replace(/\\([`*_{}\[\]()>#+-.!])/g,x);a=a.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()/g,
I);a=a.replace(/(!\[(.*?)\]\s?\([ \t]*()<?((?:ht|f)tps?:\/\/(?:\w+\.)\S+)>?[ \t]*(?:(['"])(.*?)\5[ \t]*)?\))/g,I);a=a.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()/g,y);a=a.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?(.*?(?:\(.*?\).*?)?)>?[ \t]*(?:(['"])(.*?)\6[ \t]*)?\))/g,y);a=a.replace(/(\[([^\[\]]+)\])()()()()/g,y);a=W(a);a=G(a);console.log("[_DoItalicsAndBold]: text="+a);a=a.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"[b]$2[/b]");a=a.replace(/(\*|_)(?=\S)([^\]\r]*?\S)\1/g,
"[cur]$2[/cur]");a=X(a);console.log("[_DoStrikes]: text="+a);a=a.replace(/~T~T(.+)~T~T/g,"[del]$1[/del]");a=Y(a);return a=Z(a)},U=function(a){return a=a.replace(/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi,function(a){a=a.replace(/(.)<\/?code>(?=.)/g,"$1`");return a=q(a,"\\`*_")})},V=function(a){return a=a.replace(/\[url(="?[^"]+?"?)\](.+?)\[\/url\]/,function(a){return q(a,"<")})},y=function(a,d,b,c,e,f,g){a=b;c=c.toLowerCase();a=q(a,"#@");console.log("[writeAnchorTag] link_text",a);
if(""==e)if(""==c&&(c=a.toLowerCase().replace(/ ?\n/g," ")),void 0!=l[c])e=l[c];else if(-1<d.search(/\(\s*\)$/m))e="";else return d;else if(!/^(https?|ftpe?s?):\/\/(\w+\.)+[a-z]+\/?([^'">\s]+)*$/.test(e))return d;e=q(e,"*_");return J(e,a)},X=function(a){return h&&h.enable_autolinking?a.replace(/(^|\s)((https?|ftpe?s?|dict):\/\/(\w+\.)+[a-z]+\/?([^'">\s]+)*)(\s|$)/gi,function(a,b,c,e){console.log("[_DoUrlRecognition]",a,b,c,e);return b+"[url]"+c+"[/url]"+(a.match(" $")?" ":"")}):a},W=function(a){a=
a.replace(/<((https?|ftpe?s?|dict):\/\/(\w+\.)+[a-z]+\/?([^'">\s]+)*)>/gi,function(a,b){b=q(b,"#@");return J(b,"")});return a=a.replace(/<(?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,function(a,b){return $(F(b))})},J=function(a,d){console.log("[_BuildURL] url: "+a+" text: "+d);var b;return(b=a.match(/https?\:\/\/gist\.github\.com\/\w+\/(\w+)/))?"[gist]"+b[1]+"[/gist]":(b=a.match(/https?:\/\/(\w\w)\.wikipedia.org\/wiki\/(.+)/))?"[wiki="+b[1]+"]"+b[2].replace(/~E95E/g," ")+"[/wiki]":
(b=a.match(/https?:\/\/twitter\.com\/[^\/]+\/status\/([0-9]+)/))?"[twitter]"+b[1]+"[/twitter]":(b=a.match(/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/watch(?:\?v=|\?.+?&v=)|youtu\.be\/)[a-zA-Z0-9_-~]+/)||a.match(/https?:\/\/(?:www\.)?facebook\.com\/photo\.php(?:\?v=|\?.+?&v=)\d+/)||a.match(/https?:\/\/(?:www\.)?(?:dai\.ly\/|dailymotion\.com\/(?:.+?video=|(?:video|hub)\/))[a-z0-9]+/)||a.match(/https?:\/\/(?:www\.)?vimeo\.com.+?\d+/))?"[video]"+b[0]+"[/video]":(b=a.match(/^https?:\/\/(?:open|play)\.spotify\.com\/track\/([\w\d]+)$/))?
"[music]spotify:track:"+b[1]+"[/music]":(b=a.match(/https?:\/\/soundcloud\.com\/\S+\/\S+/)||a.match(/https?:\/\/(?:www\.)?deezer\.com\/(track|album|playlist)\/(\d+)/))?"[music]"+b[0]+"[/music]":""==d?"[url]"+a+"[/url]":"[url="+a+"]"+d+"[/url]"},I=function(a,d,b,c,e,f,g){a=c.toLowerCase();if(""==e)if(""==a&&(a=b.toLowerCase().replace(/ ?\n/g," ")),void 0!=l[a])e=l[a];else return d;b.replace(/"/g,"&quot;");e=q(e,"*_");return"[img]"+e+"[/img]"},Q=function(a){a=a.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,
function(a,b){return m("[big]"+p(b)+"[/big]")});a=a.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(a,b){return m("[big]"+p(b)+"[/big]")});return a=a.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(a,b,c){a=b.length;return 3<a?m(p(c)):3==a?m("[small]"+p(c)+"[/small]"):m("[big]"+p(c)+"[/big]")})},z,H=function(a){a+="~0";var d=/^(([ ]{0,3}([*+-]|[a-zA-Z\d]+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|[a-zA-Z\d]+[.])[ \t]+)))/gm;t?a=a.replace(d,function(a,d,e,f){a=d;e=/[*+-]/g.test(e)?0:
1;var g,n;/\d+/.test(f)?(g="1",n=/\d+/.exec(f)):/[iI]+/.test(f)?(g=/[iI]/.exec(f),n=f.match(/[iI]/g).length):/[a-zA-Z]/.test(f)&&(g=f===f.toLowerCase()?"a":"A",n=f.toLowerCase().charCodeAt(0)-96);a=a.replace(/\n{2,}/g,"\n\n\n");f=z(a);f=f.replace(/\s+$/,"");console.log("[_DoLists]g_list_level, result: ",f);return"[list"+(e?' type="'+g+'" start="'+n+'"':"")+"]\n"+f+"[/list]\n"}):(d=/(\n\n|^\n?)(([ ]{0,3}([*+-]|[a-zA-Z\d]+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|[a-zA-Z\d]+[.])[ \t]+)))/g,
a=a.replace(d,function(a,d,e,f,g){a=e;f=/[*+-]/g.test(f)?0:1;var n,h;/\d+/.test(g)?(n="1",h=/\d+/.exec(g)):/[iI]+/.test(g)?(n=/[iI]/.exec(g),h=g.match(/[iI]/g).length):/[a-zA-Z]/.test(g)&&(n=g===g.toLowerCase()?"a":"A",h=g.toLowerCase().charCodeAt(0)-96);a=a.replace(/\n{2,}/g,"\n\n\n");g=z(a);console.log("[_DoLists]result: "+g);return"[list"+(f?' type="'+n+'" start="'+h+'"':"")+"]\n"+g+"[/list]\n"}));return a=a.replace(/~0/,"")};z=function(a){t++;a=a.replace(/\n{2,}$/,"\n");a=(a+"~0").replace(/(\n)?(^[ \t]*)([*+-]|[a-zA-Z\d]+[.])[ \t]+([^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|[a-zA-Z\d]+[.])[ \t]+))/gm,
function(a,b,c,e,f){a=f;b||-1<a.search(/\n{2,}/)||h&&h.check_quotes_into_lists?a=w(A(a)):(a=H(A(a)),a=a.replace(/\n$/,""),a=p(a));console.log("[_ProcessListItems] item: "+a);return"[*] "+a+"\n"});a=a.replace(/~0/g,"");t--;return a};var R=function(a){a=(a+"~0").replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(a,b,c){a=B(A(b));a=v(a);a=a.replace(/^\n+/g,"");a=a.replace(/\n+$/g,"");a="[code]"+a+"[/code]";return m(a)+c});return a=a.replace(/~0/,"")},K=function(a){a=
(a+"~0").replace(/(?:^|\n)```(.*)\n([\s\S]+?)\n```(\n|$)/g,function(a,b,c){console.log("[_DoGithubCodeBlocks] opening a code block, codeblock: ",c);a=B(c);a=v(a);a=a.replace(/^\n+/g,"");a=a.replace(/\n+$/g,"");a="[code"+(b?"="+b:"")+"]\n"+a+"\n[/code]";return m(a)});return a=a.replace(/~0/,"")},m=function(a){a=a.replace(/(^\n+|\n+$)/g,"");return"\n\n~K"+(k.push(a)-1)+"K\n\n"},T=function(a){return a=a.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(a,b,c,e,f){a=e.replace(/^([ \t]*)/g,"");a=
a.replace(/[ \t]*$/g,"");a=B(a);return b+"[code]"+a+"[/code]"})},B=function(a){a=a.replace(/&/g,"&amp;");a=a.replace(/</g,"&lt;");a=a.replace(/>/g,"&gt;");return a=q(a,"*_{}[]\\@#`~",!1)},S=function(a){return a=a.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(a,b){var c=b,e=!1,f=[];h&&!0==h.multiline_quoting&&(f=c.split("\n").map(function(a,b){return a.match(/^\>/)?b:-1}).filter(function(a,b){return-1!=b}),e=2>f.length?!1:0==f[0]&&1==f[1]);c=c.replace(/^[ \t]*>[ \t]?/gm,"~0");c=c.replace(/~0/g,
"");c=c.replace(/^[ \t]+$/gm,"");c=w(c);c=c.replace(/(^|\n)/g,"$1  ");c=c.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(a,b){var c;c=b.replace(/^  /mg,"~0");return c=c.replace(/~0/g,"")});c=c.split("\n").map(function(a){return a.replace(/^ +/g,"")}).join("\n");if(e){var e=c,g=!1,c="";e.split("\n").map(function(a,b){-1<f.indexOf(b)?g?c+=a+"\n":(g=!0,c+="[quote]"+a+"\n"):g?(g=!1,c+="[/quote]\n"+a):c+=a+"\n";return a});return c+(g?"[/quote]":"")+"\n"}return m("[quote]\n"+c+"\n[/quote]")})},Y=function(a){console.log("[_DoUsers]: text="+
a);return a=a.replace(/\B(\\)?@([\S]+)\b/g,function(a,b,c){return"\\"===b?"@"+c:"[user]"+c+"[/user]"})},Z=function(a){console.log("[_DoProjects]: text="+a);return a=a.replace(/\B(\\)?#([\S]+)\b/g,function(a,b,c){return"\\"===b?a:"[project]"+c+"[/project]"})},G=function(a){a=a.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;");return a=a.replace(/<(?![a-z\/?\$!])/gi,"&lt;")},$=function(a){var d=[function(a){return"&#"+a.charCodeAt(0)+";"},function(a){return"&#x"+a.charCodeAt(0).toString(16)+";"},
function(a){return a}];a=("mailto:"+a).replace(/./g,function(a){if("@"==a)a=d[Math.floor(2*Math.random())](a);else if(":"!=a){var c=Math.random();a=.9<c?d[2](a):.45<c?d[1](a):d[0](a)}return a});a='<a href="'+a+'">'+a+"</a>";return a=a.replace(/">.+:/g,'">')},F=function(a){return a=a.replace(/~E(\d+)E/g,function(a,b){var c=parseInt(b);return String.fromCharCode(c)})},A=function(a){a=a.replace(/^(\t|[ ]{1,4})/gm,"~0");return a=a.replace(/~0/g,"")},v=function(a){a=a.replace(/\t(?=\t)/g,"    ");a=a.replace(/\t/g,
"~A~B");a=a.replace(/~B(.+?)~A/g,function(a,b,c){a=b;b=4-a.length%4;for(c=0;c<b;c++)a+=" ";return a});a=a.replace(/~A/g,"    ");return a=a.replace(/~B/g,"")},q=function(a,d,b){d="(["+d.replace(/([\[\]\\])/g,"\\$1")+"])";b&&(d="\\\\"+d);return a=a.replace(new RegExp(d,"g"),x)},x=function(a,d){return"~E"+d.charCodeAt(0)+"E"}};"undefined"!==typeof module&&(module.exports=Showdown);"function"===typeof define&&define.amd&&define("showdown",function(){return Showdown});
