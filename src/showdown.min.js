var Showdown={extensions:{}},forEach=Showdown.forEach=function(f,h){if("function"===typeof f.forEach)f.forEach(h);else{var g,m=f.length;for(g=0;g<m;g++)h(f[g],g,f)}},stdExtName=function(f){return f.replace(/[_-]||\s/g,"").toLowerCase()};
Showdown.converter=function(f){f=f||{};var h,g,m=0,z=[{type:"lang",regex:"\\[m\\](.+)\\[/m\\]",replace:function(a,d,b,c){f.recognize_bbcode&&(a=a.replace(/\*/g,"~S").replace(/_/g,"~U").replace(/\>/g,"&gt;").replace(/\</g,"&lt;"));f.enable_autolinking&&(a=a.replace(/^(https?|ftpe?s?):\/\/(\w+\.)+[a-z]+\/?([^'">\s]+)*$/g,function(a){return a.replace(/\/\//,"\\\\")}));return a}},{type:"lang",regex:"\\[math\\](.+)\\[/math\\]",replace:function(a,d,b,c){f.recognize_bbcode&&(a=a.replace(/\*/g,"~S").replace(/_/g,
"~U").replace(/\>/g,"&gt;").replace(/\</g,"&lt;"));f.enable_autolinking&&(a=a.replace(/^(https?|ftpe?s?):\/\/(\w+\.)+[a-z]+\/?([^'">\s]+)*$/g,function(a){return a.replace(/\/\//,"\\\\")}));return a}},{type:"lang",regex:"\\[code=.+\\](.+)\\[/code\\]",replace:function(a,d){f.recognize_bbcode&&(a=a.replace(/\*/g,"~S").replace(/_/g,"~U").replace(/\>/g,"&gt;").replace(/\</g,"&lt;"));f.enable_autolinking&&(a=a.replace(/^(https?|ftpe?s?):\/\/(\w+\.)+[a-z]+\/?([^'">\s]+)*$/g,function(a){return a.replace(/\/\//,
"\\\\")}));return a}},{type:"lang",regex:/\[url(\=(.*))?\](.*)\[\/url\]/g,replace:function(a,d,b,c){f.recognize_bbcode&&(a=a.replace(/\>/g,"&gt;").replace(/\</g,"&lt;"));f.enable_autolinking&&(a=a.replace(/^(https?|ftpe?s?):\/\/(\w+\.)+[a-z]+\/?([^'">\s]+)*$/g,function(a){return a.replace(/\/\//,"\\\\")}));return a}}],r=[{type:"lang",regex:"<hr />",replace:function(a){return"[hr]"}},{type:"lang",regex:"</?p>",replace:function(a){return""}},{type:"lang",regex:"&gt;",replace:function(a){return">"}},
{type:"lang",regex:"&lt;",replace:function(a){return"<"}},{type:"lang",regex:"~S",replace:function(a){return"*"}},{type:"lang",regex:"~U",replace:function(a){return"_"}},{type:"lang",regex:/^(https?|ftpe?s?):\\\\(\w+\.)+[a-z]+\/?([^'">\s]+)*$/g,replace:function(a){return a.replace(/\\\\/,"//")}}];if("undefined"!==typeof module&&"undefined"!==typeof exports&&"undefind"!==typeof require){var p=require("fs");p&&(p=p.readdirSync((__dirname||".")+"/extensions").filter(function(a){return~a.indexOf(".js")}).map(function(a){return a.replace(/\.js$/,
"")}),Showdown.forEach(p,function(a){var d=stdExtName(a);Showdown.extensions[d]=require("./extensions/"+a)}))}this.makeBBCode=function(a){h={};g=[];a=a.replace(/~/g,"~T");a=a.replace(/\$/g,"~D");a=a.replace(/\r\n/g,"\n");a=a.replace(/\r/g,"\n");a="\n\n"+a+"\n\n";a=s(a);a=a.replace(/^[ \t]+$/mg,"");Showdown.forEach(z,function(d){a=A(d,a)});a=H(a);a=B(a);a=I(a);a=t(a);a=C(a);a=a.replace(/~D/g,"$$");a=a.replace(/~T/g,"~");Showdown.forEach(r,function(d){a=A(d,a)});return a};if(f&&f.extensions){var J=
this;Showdown.forEach(f.extensions,function(a){"string"===typeof a&&(a=Showdown.extensions[stdExtName(a)]);if("function"===typeof a)Showdown.forEach(a(J),function(a){a.type?"language"===a.type||"lang"===a.type?z.push(a):"output"!==a.type&&"html"!==a.type||r.push(a):r.push(a)});else throw"Extension '"+a+"' could not be loaded.  It was either not found or is not a valid extension.";})}var A=function(a,d){if(a.regex){try{var b=new RegExp(a.regex,"g")}catch(c){b=a.regex}return d.replace(b,a.replace)}if(a.filter)return a.filter(d)},
I=function(a){a=(a+"~0").replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|(?=~0))/gm,function(a,b,c,e,f){b=b.toLowerCase();h[b]=D(c);if(e)return e+f;f&&f.replace(/"/g,"&quot;");return""});return a=a.replace(/~0/,"")},B=function(a){a=a.replace(/\n/g,"\n\n");a=a.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,n);a=a.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside)\b[^\r]*?<\/\2>[ \t]*(?=\n+)\n)/gm,
n);a=a.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,n);a=a.replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,n);a=a.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,n);return a=a.replace(/\n\n/g,"\n")},n=function(a,d){var b;b=d.replace(/\n\n/g,"\n");b=b.replace(/^\n/,"");b=b.replace(/\n+$/g,"");return b="\n\n~K"+(g.push(b)-1)+"K\n\n"},t=function(a){a=K(a);var d=k("<hr />");a=a.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,d);a=a.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,
d);a=a.replace(/^[ ]{0,2}([ ]?\_[ ]?){3,}[ \t]*$/gm,d);a=E(a);a=L(a);a=M(a);a=B(a);a=a.replace(/^\n+/g,"");a=a.replace(/\n+$/g,"");var b=a.split(/\n{2,}/g);a=[];for(var d=b.length,c=0;c<d;c++){var e=b[c];0<=e.search(/~K(\d+)K/g)?a.push(e):0<=e.search(/\S/)&&(e=l(e),e=e.replace(/^([ \t]*)/g,"<p>"),e+="</p>",a.push(e))}d=a.length;for(c=0;c<d;c++)for(;0<=a[c].search(/~K(\d+)K/);)b=g[RegExp.$1],b=b.replace(/\$/g,"$$$$"),a[c]=a[c].replace(/~K\d+K/,b);console.log("[_FormParagraphs] grafsOut:",a);return a=
a.join("\n\n")},l=function(a){a=N(a);a=O(a);a=a.replace(/\\(\\)/g,u);a=a.replace(/\\([`*_{}\[\]()>#+-.!])/g,u);a=a.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()/g,F);a=a.replace(/(!\[(.*?)\]\s?\([ \t]*()<?((?:ht|f)tps?:\/\/(?:\w+\.)\S+)>?[ \t]*(?:(['"])(.*?)\5[ \t]*)?\))/g,F);a=a.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()/g,v);a=a.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?(.*?(?:\(.*?\).*?)?)>?[ \t]*(?:(['"])(.*?)\6[ \t]*)?\))/g,v);a=a.replace(/(\[([^\[\]]+)\])()()()()/g,
v);a=P(a);a=D(a);console.log("[_DoItalicsAndBold]: text="+a);a=a.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"[b]$2[/b]");a=a.replace(/(\*|_)(?=\S)([^\]\r]*?\S)\1/g,"[cur]$2[/cur]");a=Q(a);console.log("[_DoStrikes]: text="+a);a=a.replace(/~T~T(.+)~T~T/g,"[del]$1[/del]");a=R(a);return a=S(a)},O=function(a){return a=a.replace(/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi,function(a){a=a.replace(/(.)<\/?code>(?=.)/g,"$1`");return a=q(a,"\\`*_")})},v=function(a,d,b,c,e,f,g){a=c.toLowerCase();
if(""==e)if(""==a&&(a=b.toLowerCase().replace(/ ?\n/g," ")),void 0!=h[a])e=h[a];else if(-1<d.search(/\(\s*\)$/m))e="";else return d;else if(!/^(https?|ftpe?s?):\/\/(\w+\.)+[a-z]+\/?([^'">\s]+)*$/.test(e))return d;e=q(e,"*_");return G(e,b)},Q=function(a){return f&&f.enable_autolinking?a.replace(/(^|\s)((https?|ftpe?s?|dict):\/\/(\w+\.)+[a-z]+\/?([^'">\s]+)*)(\s|$)/gi,function(a,b,c,e){console.log("[_DoUrlRecognition]",a,b,c,e);return b+"[url]"+c+"[/url]"+(a.match(" $")?" ":"")}):a},P=function(a){a=
a.replace(/<((https?|ftpe?s?|dict):\/\/(\w+\.)+[a-z]+\/?([^'">\s]+)*)>/gi,function(a,b){return G(b,"")});return a=a.replace(/<(?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,function(a,b){return T(C(b))})},G=function(a,d){console.log("[_buildURL] url: "+a+" text: "+d);var b;return(b=a.match(/https?\:\/\/gist\.github\.com\/\w+\/(\w+)/))?"[gist]"+b[1]+"[/gist]":(b=a.match(/https?:\/\/(\w\w)\.wikipedia.org\/wiki\/(.+)/))?"[wiki="+b[1]+"]"+b[2].replace(/~E95E/g," ")+"[/wiki]":(b=a.match(/https?:\/\/twitter\.com\/[^\/]+\/status\/([0-9]+)/))?
"[twitter]"+b[1]+"[/twitter]":(b=a.match(/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/watch(?:\?v=|\?.+?&v=)|youtu\.be\/)[a-zA-Z0-9_-~]+/)||a.match(/https?:\/\/(?:www\.)?facebook\.com\/photo\.php(?:\?v=|\?.+?&v=)\d+/)||a.match(/https?:\/\/(?:www\.)?(?:dai\.ly\/|dailymotion\.com\/(?:.+?video=|(?:video|hub)\/))[a-z0-9]+/)||a.match(/https?:\/\/(?:www\.)?vimeo\.com.+?\d+/))?"[video]"+b[0]+"[/video]":(b=a.match(/^https?:\/\/(?:open|play)\.spotify\.com\/track\/([\w\d]+)$/))?"[music]spotify:track:"+b[1]+
"[/music]":(b=a.match(/https?:\/\/soundcloud\.com\/\S+\/\S+/)||a.match(/https?:\/\/(?:www\.)?deezer\.com\/(track|album|playlist)\/(\d+)/))?"[music]"+b[0]+"[/music]":""==d?"[url]"+a+"[/url]":"[url="+a+"]"+d+"[/url]"},F=function(a,d,b,c,e,f,g){a=c.toLowerCase();if(""==e)if(""==a&&(a=b.toLowerCase().replace(/ ?\n/g," ")),void 0!=h[a])e=h[a];else return d;b.replace(/"/g,"&quot;");e=q(e,"*_");return"[img]"+e+"[/img]"},K=function(a){a=a.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(a,b){return k("[big]"+
l(b)+"[/big]")});a=a.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(a,b){return k("[big]"+l(b)+"[/big]")});return a=a.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(a,b,c){a=b.length;return 3<a?k(l(c)):3==a?k("[small]"+l(c)+"[/small]"):k("[big]"+l(c)+"[/big]")})},w,E=function(a){a+="~0";var d=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;m?a=a.replace(d,function(a,d,e){a=d;e.search(/[*+-]/g);a=a.replace(/\n{2,}/g,"\n\n\n");e=w(a);e=e.replace(/\s+$/,
"");console.log("[_DoLists]g_list_level, result:",e);return"[list]"+e+"[/list]\n"}):(d=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,a=a.replace(d,function(a,d,e,f){a=e;f.search(/[*+-]/g);a=a.replace(/\n{2,}/g,"\n\n\n");f=w(a);console.log("[_DoLists]result: "+f);return d+"[list]\n"+f+"[/list]\n"}));return a=a.replace(/~0/,"")};w=function(a){m++;a=a.replace(/\n{2,}$/,"\n");a=(a+"~0").replace(/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+([^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,
function(a,b,c,e,g){a=g;b||-1<a.search(/\n{2,}/)||f&&f.check_quotes_into_lists?a=t(x(a)):(a=E(x(a)),a=a.replace(/\n$/,""),a=l(a));console.log("[_ProcessListItems] item: "+a);return"[*] "+a+"\n"});a=a.replace(/~0/g,"");m--;return a};var L=function(a){a=(a+"~0").replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(a,b,c){a=y(x(b));a=s(a);a=a.replace(/^\n+/g,"");a=a.replace(/\n+$/g,"");a="[code]"+a+"[/code]";return k(a)+c});return a=a.replace(/~0/,"")},H=function(a){a=
(a+"~0").replace(/(?:^|\n)```(.*)\n([\s\S]+?)\n```(\n|$)/g,function(a,b,c){console.log("[_DoGithubCodeBlocks] opening a code block, codeblock: ",c);a=y(c);a=s(a);a=a.replace(/^\n+/g,"");a=a.replace(/\n+$/g,"");return a="[code"+(b?"="+b:"")+"]\n"+a+"\n[/code]"});return a=a.replace(/~0/,"")},k=function(a){a=a.replace(/(^\n+|\n+$)/g,"");return"\n\n~K"+(g.push(a)-1)+"K\n\n"},N=function(a){return a=a.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(a,b,c,e,f){a=e.replace(/^([ \t]*)/g,"");a=a.replace(/[ \t]*$/g,
"");a=y(a);return b+"[code]"+a+"[/code]"})},y=function(a){a=a.replace(/&/g,"&amp;");a=a.replace(/</g,"&lt;");a=a.replace(/>/g,"&gt;");return a=q(a,"*_{}[]\\@#`~",!1)},M=function(a){return a=a.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(a,b){var c=b,e=!1,g=[];f&&!0==f.multiline_quoting&&(g=c.split("\n").map(function(a,b){return a.match(/^\>/)?b:-1}).filter(function(a,b){return-1!=b}),e=2>g.length?!1:0==g[0]&&1==g[1]);c=c.replace(/^[ \t]*>[ \t]?/gm,"~0");c=c.replace(/~0/g,"");c=c.replace(/^[ \t]+$/gm,
"");c=t(c);c=c.replace(/(^|\n)/g,"$1  ");c=c.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(a,b){var c;c=b.replace(/^  /mg,"~0");return c=c.replace(/~0/g,"")});c=c.split("\n").map(function(a){return a.replace(/^ +/g,"")}).join("\n");if(e){var e=c,h=!1,c="";e.split("\n").map(function(a,b){-1<g.indexOf(b)?h?c+=a+"\n":(h=!0,c+="[quote]"+a+"\n"):h?(h=!1,c+="[/quote]\n"+a):c+=a+"\n";return a});return c+(h?"[/quote]":"")+"\n"}return k("[quote]\n"+c+"\n[/quote]")})},R=function(a){console.log("[_DoUsers]: text="+
a);return a=a.replace(/\B(\\)?@([\S]+)\b/g,function(a,b,c){return"\\"===b?"@"+c:"[user]"+c+"[/user]"})},S=function(a){console.log("[_DoProjects]: text="+a);return a=a.replace(/\B(\\)?#([\S]+)\b/g,function(a,b,c){return"\\"===b?a:"[project]"+c+"[/project]"})},D=function(a){a=a.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;");return a=a.replace(/<(?![a-z\/?\$!])/gi,"&lt;")},T=function(a){var d=[function(a){return"&#"+a.charCodeAt(0)+";"},function(a){return"&#x"+a.charCodeAt(0).toString(16)+";"},
function(a){return a}];a=("mailto:"+a).replace(/./g,function(a){if("@"==a)a=d[Math.floor(2*Math.random())](a);else if(":"!=a){var c=Math.random();a=.9<c?d[2](a):.45<c?d[1](a):d[0](a)}return a});a='<a href="'+a+'">'+a+"</a>";return a=a.replace(/">.+:/g,'">')},C=function(a){return a=a.replace(/~E(\d+)E/g,function(a,b){var c=parseInt(b);return String.fromCharCode(c)})},x=function(a){a=a.replace(/^(\t|[ ]{1,4})/gm,"~0");return a=a.replace(/~0/g,"")},s=function(a){a=a.replace(/\t(?=\t)/g,"    ");a=a.replace(/\t/g,
"~A~B");a=a.replace(/~B(.+?)~A/g,function(a,b,c){a=b;b=4-a.length%4;for(c=0;c<b;c++)a+=" ";return a});a=a.replace(/~A/g,"    ");return a=a.replace(/~B/g,"")},q=function(a,d,b){d="(["+d.replace(/([\[\]\\])/g,"\\$1")+"])";b&&(d="\\\\"+d);return a=a.replace(new RegExp(d,"g"),u)},u=function(a,d){return"~E"+d.charCodeAt(0)+"E"}};"undefined"!==typeof module&&(module.exports=Showdown);"function"===typeof define&&define.amd&&define("showdown",function(){return Showdown});